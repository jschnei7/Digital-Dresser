<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitCheck | Your Virtual Stylist</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6B705C; /* Sage Green */
            --secondary: #A5A58D;
            --accent: #D4A373; /* Warm Sand */
            --bg: #F0EAD6; /* Eggshell/Cream */
            --white: #ffffff;
            --text: #333533;
            --shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- NAVIGATION SIDEBAR --- */
        nav {
            width: 320px;
            background: var(--white);
            padding: 40px;
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 15px rgba(0,0,0,0.02);
            z-index: 10;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 40px;
        }

        .profile-card {
            background: #fdfcf8;
            padding: 20px;
            border-radius: 20px;
            border: 1px solid #eee;
            margin-bottom: 30px;
        }

        .avatar-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #eee;
            margin-bottom: 15px;
            overflow: hidden;
            border: 2px solid var(--accent);
        }

        h3 { margin: 0; font-size: 1.1rem; }
        .subtitle { font-size: 0.8rem; color: #999; }

        /* --- FORM STYLING --- */
        .input-group { margin-bottom: 20px; }
        label { display: block; font-size: 0.8rem; font-weight: 600; margin-bottom: 8px; color: var(--primary); }
        input, select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            background: #fafafa;
            font-family: inherit;
            box-sizing: border-box;
            outline: none;
            transition: 0.3s;
        }
        input:focus { border-color: var(--accent); background: white; }

        .btn-magic {
            background: var(--primary);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        .btn-magic:hover { background: #5a5e4d; transform: translateY(-2px); }

        /* --- MAIN DRESSING ROOM --- */
        main {
            flex-grow: 1;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .mirror-frame {
            position: relative;
            height: 80vh;
            background: white;
            padding: 20px;
            border-radius: 100px; /* Modern Arched Mirror Look */
            box-shadow: var(--shadow);
            border: 8px solid white;
            overflow: hidden;
        }

        #avatar-img {
            height: 100%;
            border-radius: 80px;
            transition: transform 0.5s ease;
        }

        .fit-glow {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, rgba(212, 163, 115, 0.2) 0%, transparent 70%);
            display: none;
            z-index: 5;
            pointer-events: none;
        }

        /* --- INSIGHTS DRAWER --- */
        .insights {
            width: 350px;
            background: var(--white);
            padding: 40px;
            display: flex;
            flex-direction: column;
            box-shadow: -2px 0 15px rgba(0,0,0,0.02);
        }

        .chat-bubble {
            background: #F8F9FA;
            padding: 20px;
            border-radius: 20px 20px 20px 0;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 20px;
            border: 1px solid #f0f0f0;
        }

        .metric-pill {
            background: #fdfcf8;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .val { font-weight: 600; color: var(--primary); }

        /* --- ANIMATIONS --- */
        .loading-ring {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
            z-index: 20;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    </style>
</head>
<body>

    <nav>
        <div class="logo">FitCheck</div>
        
        <div class="profile-card">
            <div class="avatar-circle">
                <img src="my-model.jpg" style="width:100%; height:100%; object-fit: cover;" onerror="this.src='https://i.ibb.co/LhY0m2P/Jacob-Model.jpg'">
            </div>
            <h3>Jacob Schneiderman</h3>
            <div class="subtitle">UO Student ‚Ä¢ 30" Waist</div>
        </div>

        <div class="input-group">
            <label>Brand choice</label>
            <select id="brand">
                <option value="levis">Levi's (Comfort & Quality)</option>
                <option value="zara">Zara (Trend & Slim Fit)</option>
                <option value="asos">ASOS (Value & Variety)</option>
            </select>
        </div>

        <div class="input-group">
            <label>Current Budget ($)</label>
            <input type="number" id="bank" value="250">
        </div>

        <div class="input-group">
            <label>Item Price ($)</label>
            <input type="number" id="price" value="85">
        </div>

        <button class="btn-magic" onclick="startFitting()">Try It On</button>
    </nav>

    <main>
        <div class="loading-ring" id="loader"></div>
        <div class="mirror-frame">
            <div id="glow" class="fit-glow"></div>
            <img src="my-model.jpg" id="avatar-img" onerror="this.src='https://i.ibb.co/LhY0m2P/Jacob-Model.jpg'">
        </div>
    </main>

    <aside class="insights">
        <h2>Stylist Notes</h2>
        <div id="ai-chat" class="chat-bubble">
            Hi Jacob! Ready to see how this looks? Just hit the "Try It On" button and I'll run the numbers for you.
        </div>

        <div id="metrics" style="display:none;">
            <div class="metric-pill">
                <span>Fit Confidence</span>
                <span class="val" id="m-fit">--</span>
            </div>
            <div class="metric-pill">
                <span>Refund Delay</span>
                <span class="val" id="m-wait">--</span>
            </div>
            <div class="metric-pill">
                <span>Wallet Health</span>
                <span class="val" id="m-impact">--</span>
            </div>
            
            <div id="final-verdict" style="margin-top:20px; font-weight:700; text-align:center;"></div>
        </div>

        <button class="btn-magic" style="background:white; color:var(--primary); border: 2px solid var(--primary); margin-top: auto;">Send to Friends</button>
    </aside>

    <script>
        const brandData = {
            levis: { fit: 94, wait: 7, msg: "Levi's is great for your build. The 100% cotton will hold its shape perfectly!" },
            zara: { fit: 76, wait: 14, msg: "Heads up! Zara's sizing can be a bit tricky. We've adjusted for their 'slim-cut' logic." },
            asos: { fit: 65, wait: 10, msg: "ASOS has some quality variance. Be sure to check the fabric blend before you commit!" }
        };

        function startFitting() {
            const loader = document.getElementById('loader');
            const glow = document.getElementById('glow');
            const chat = document.getElementById('ai-chat');
            const metrics = document.getElementById('metrics');
            const avatar = document.getElementById('avatar-img');

            // UI Reset
            loader.style.display = 'block';
            glow.style.display = 'none';
            metrics.style.display = 'none';
            chat.innerText = "Analyzing the fabric drape and comparing it to your profile...";
            avatar.style.transform = "scale(1.05)";

            setTimeout(() => {
                const b = brandData[document.getElementById('brand').value];
                const price = document.getElementById('price').value;
                const bank = document.getElementById('bank').value;
                const impact = Math.round((price / bank) * 100);

                loader.style.display = 'none';
                glow.style.display = 'block';
                metrics.style.display = 'block';
                avatar.style.transform = "scale(1)";

                // Friendly Personalization
                chat.innerText = b.msg;
                document.getElementById('m-fit').innerText = b.fit + "%";
                document.getElementById('m-wait').innerText = b.wait + " Days";
                document.getElementById('m-impact').innerText = impact + "%";

                const verdict = document.getElementById('final-verdict');
                if (b.fit > 85 && impact < 30) {
                    verdict.innerText = "‚ú® It's a Perfect Match!";
                    verdict.style.color = "var(--primary)";
                } else if (impact > 40) {
                    verdict.innerText = "‚ö†Ô∏è High Financial Risk (Isaiah's Warning)";
                    verdict.style.color = "#d9534f";
                    chat.innerText = "This might be a stretch for your budget right now. Remember, if you return it, that money is gone for " + b.wait + " days!";
                } else {
                    verdict.innerText = "ü§î Think it Over...";
                    verdict.style.color = var(--accent);
                }

            }, 2500);
        }
    </script>
</body>
</html>